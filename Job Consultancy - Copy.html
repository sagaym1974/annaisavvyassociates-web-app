<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Annai Savvy Associates [Job Consultancy]</title>
<style>
:root {
    --grey-bg: #f5f5f7;
    --container-bg: #ffffff;
    --primary-grey: #444;
    --secondary-grey: #888;
    --accent-grey: #e0e0e0;
    --black: #161616;
    --light-grey: #fdfdfd;
    --button-main: #212121;
    --button-hover: #444;
    --text-main: #232323;
    --shadow-main: #ddd;
}

/* Body background */
body {
    margin: 0;
    font-family: 'Segoe UI', Arial, sans-serif;
    background: #8B004B;
    color: var(--text-main);
}

/* Background logo lightly visible */
.background-logo {
    background: url('file:///C:/Users/VIJAY/OneDrive/Web%20Photo%20Stocks/public/Logo1.png') center center no-repeat;
    background-size: cover;
    position: fixed;
    top: 0; left: 0; width: 90vw; height: 100vh;
    opacity: 0.16;
    z-index: 0;
}

/* Container for main content */
.container {
    position: relative;
    z-index: 1;
    width: 80%;
    margin: 40px auto;
    padding: 20px 40px;
    background: #ffe6f0; /* light pink */
    border-radius: 22px;
    box-shadow: 0 6px 25px var(--shadow-main);
}

/* Header with dark grey background */
.header-flex {
    background-color: #2f2f2f; /* dark grey */
    padding: 10px 20px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 18px;
    margin-bottom: 5px;
}
.header-logo {
    height: 100px;
    width: auto;
    margin-right: 12px;
    border-radius: 10px;
    box-shadow: 0 2px 8px #2226;
}
.top-banner {
    background-color: #2f2f2f; /* dark grey */
    padding: 5px 12px;
    border-radius: 8px;
    color: #FFFACD;
    font-size: 2em;
    font-weight: bold;
    letter-spacing: 1px;
}

/* Subtitle with dark grey background */
.subtitle {
    background-color: #2f2f2f; /* dark grey */
    padding: 8px 14px;
    margin-bottom: 24px;
    border-radius: 12px;
    color: #ffd700;
    font-weight: 500;
}

/* Feature section with grey palette */
.feature-section {
    background: var(--accent-grey);
    padding: 22px 16px;
    border-radius: 12px;
    margin-bottom: 24px;
    color: var(--primary-grey);
    font-weight: bold;
    font-size: 1.3em;
    border: 2px solid #ddd;
    box-shadow: 0 8px 32px #eee;
}

.highlight-grey {
    background: var(--black);
    color: var(--light-grey);
    font-weight: bold;
    font-size: 1.13em;
    padding: 8px 18px;
    border-radius: 8px;
    border: 2.2px solid #aaa;
    display: inline-block;
    margin-bottom: 14px;
    letter-spacing: 0.04em;
    box-shadow: 0 2px 10px #bbb4;
}

/* Bullet list in features */
ul.features {
    list-style: disc;
    padding-left: 22px;
    margin-top: 8px;
}
ul.features li {
    margin-bottom: 10px;
    font-size: 1.09em;
    color: var(--black);
    font-weight: normal;
    text-shadow: none;
}

/* Main section with grey background */
.main-section {
    display: flex;
    justify-content: space-around;
    gap: 150px;
}

/* Option cards in light grey and black text */
.option-card {
    border: 2px solid var(--accent-grey);
    border-radius: 14px;
    width: 41%;
    padding: 28px 16px 22px 16px;
    box-shadow: 0 8px 32px #eee;
    display: flex;
    flex-direction: column;
    align-items: center;
    background: var(--light-grey);
    position: relative;
}

/* Titles and text styling */
.option-title {
    color: var(--blue);
    font-size: 1.75em;
    font-weight: 700;
    margin-bottom: 7px;
}

.option-desc {
    color: var(--primary-blue);
    margin-bottom: 20px;
    font-size: 1.25em;
    text-align: center;
    min-height: 50px;
}

.option-tip {
    color: var(--secondary-grey);
    font-size: 1.04em;
    margin-bottom: 18px;
    text-align: center;
}

/* Employer and Employee tags with black background only */
.Employer, .Employee {
    background: var(--black);
    color: #fff;
    font-weight: bold;
    font-size: 1.5em;
    padding: 6px 22px;
    border-radius: 8px;
    box-shadow: 0 4px 16px #333;
    text-shadow: 1px 1px 5px #000;
    display: inline-block;
    margin-bottom: 10px;
}

/* Buttons in black/grey */
@keyframes blinkBtn {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.35; }
}
.action-btn {
    background: #003366; /* dark blue */
    color: #fff;
    font-weight: bold;
    font-size: 1.19em;
    border: none;
    border-radius: 8px;
    padding: 13px 35px;
    cursor: pointer;
    margin-bottom: 8px;
    box-shadow: 0 2px 10px #999;
    transition: background 0.2s;
    animation: blinkBtn 1.1s linear infinite;
}
.action-btn:hover {
    background: #002244; /* darker blue hover */
}

/* Responsive adjustments */
@media (max-width: 900px) {
    .main-section {
        flex-direction: column;
        gap: 28px;
    }
    .option-card {
        width: 100%;
    }
}

/* Modal and form styling with grey and black */
.modal-overlay {
    position: fixed; top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(68,69,70,0.77);
    z-index: 9999;
    display: none;
    align-items: center;
    justify-content: center;
}
.modal-content {
    background: #fff;
    padding: 30px 38px;
    min-width: 350px;
    border-radius: 15px;
    position: relative;
    color: var(--text-main);
    box-shadow: 0 8px 32px #eee;
    max-width: 95vw;
}
.close-btn {
    background: transparent;
    color: var(--secondary-grey);
    border: none;
    font-size: 1.75em;
    position: absolute;
    top: 9px;
    right: 18px;
    cursor: pointer;
}
.form-btn, .form-radio {
    background: var(--button-main);
    color: #fff;
    border: none;
    padding: 9px 22px;
    border-radius: 7px;
    font-weight: bold;
    font-size: 1em;
    margin-top: 9px;
    cursor: pointer;
}
.form-btn:disabled {
    background: #eee;
    color: #aaa;
    cursor: not-allowed;
}
.form-group {
    margin-bottom: 13px;
}
label {
    font-weight: 300;
    color: var(--primary-grey);
}
input, textarea, select {
    padding: 8px;
    width: 50%;
    border-radius: 7px;
    border: 1px solid #bbb;
    margin-top: 4px;
    color: var(--primary-grey);
}
.checkbox-row, .radio-row {
    display: flex;
    gap: 18px;
    margin-top: 8px;
    margin-bottom: 12px;
    flex-wrap: wrap;
}
textarea {
    width: 100%;
    height: 80px;
    resize: vertical;
}

/* Flash bar - unchanged */
.flash-bar-fixed {
    position: fixed;
    left: 0;
    bottom: 0;
    width: 100vw;
    background: #FF0000;
    border-top: 3px solid #fff;
    z-index: 10000;
    padding: 0;
    overflow: hidden;
}
.flash-bar-track {
    display: flex;
    width: max-content;
    animation: marquee-continuous 35s linear infinite;
    align-items: center;
}
.flash-bar-text {
    display: inline-block;
    color: #fff;
    font-weight: bold;
    font-size: 1.75em;
    letter-spacing: 1.2px;
    text-shadow: 0 0 9px #000, 0 0 18px #000;
    white-space: nowrap;
    padding-right: 68px;
}
@keyframes marquee-continuous {
    0% {
        transform: translateX(0);
    }
    100% {
        transform: translateX(-50%);
    }
}
</style>
</head>
<body>
<div class="background-logo"></div>
<div class="container">
    <div class="header-flex">
        <img src="file:///C:/Users/VIJAY/OneDrive/Web%20Photo%20Stocks/public/Logo1.png"
             alt="Company Logo"
             class="header-logo">
        <div class="top-banner">
            Annai Savvy Associates [Job Consultancy]
        </div>
    </div>
    <div class="subtitle">
        Your Satisfaction, Our Commitment
    </div>
    <div class="feature-section">
        <span class="highlight-grey">Reliable partner for your Employment & Recruitment Needs</span>
        <ul class="features">
            <li>Connecting Employers and Employees effectively</li>
            <li>Ensuring clear and transparent communication</li>
            <li>Competitive and feasible service charges for all</li>
        </ul>
    </div>
    <div class="main-section">
        <div class="option-card">
            <div class="Employer">Employer</div>
            <div class="option-title">Find the Right Talent - Happy Hiring!</div>
            <div class="option-desc">
                Fill in your company and vacancy details accurately to get suitable candidates quickly.  
            </div>
            <div class="option-tip">
                Click below to submit job vacancy details for recruitment
            </div>
            <button class="action-btn" onclick="openForm('employer')">Submit Vacancy</button>
        </div>
        <div class="option-card">
            <div class="Employee">Employee</div>
            <div class="option-title">Find Your Dream Job - Happy Working!</div>
            <div class="option-desc">
                Provide your personal and professional details to find matching job opportunities.  
            </div>
            <div class="option-tip">
                Click below to submit your job application details
            </div>
            <button class="action-btn" onclick="openForm('employee')">Submit Details</button>
        </div>
    </div>
</div>
<div class="modal-overlay" id="modalForm">
    <div class="modal-content">
        <button class="close-btn" onclick="closeForm()">Ã—</button>
        <form id="jobForm" enctype="multipart/form-data">
            <div id="formTitle" style="font-size:1.3em;font-weight:bold;margin-bottom:16px;"></div>

            <!-- Employer Form Fields -->
            <div id="employerFields" style="display:none;">
                <div class="form-group">
                    <label>Company Name:</label>
                    <input type="text" name="company_name" required>
                </div>
                <div class="form-group">
                    <label>Contact Person Name:</label>
                    <input type="text" name="contact_person" required>
                </div>
                <div class="form-group">
                    <label>Contact Mobile Number:</label>
                    <input type="text" name="mobile" pattern="[0-9]{10}" required>
                </div>
                <div class="form-group">
                    <label>Contact Email (optional):</label>
                    <input type="email" name="email">
                </div>
                <div class="form-group">
                    <label>Number of Staff Required:</label>
                    <input type="number" name="staff_required" min="1" required>
                </div>
                <div class="form-group">
                    <label>Educational Qualification Required:</label>
                    <input type="text" name="qualification_required" required placeholder="e.g. ITI, Diploma, Degree">
                </div>
                <div class="form-group">
                    <label>Age Limit:</label>
                    <input type="text" name="age_limit" required placeholder="e.g. 18-35 years">
                </div>
                <div class="form-group">
                    <label>Salary Structure:</label>
                    <input type="text" name="salary_structure" required placeholder="e.g. Rs.10,000 to Rs.15,000 per month">
                </div>
                <div class="form-group">
                    <label>Other Perks/Benefits (if any):</label>
                    <input type="text" name="other_perks" placeholder="e.g. transport, accommodation">
                </div>
                <div class="form-group">
                    <label>Open Designations:</label>
                    <input type="text" name="designations" required placeholder="e.g. Technician, Operator">
                </div>
                <div class="form-group">
                    <label>Additional Remarks:</label>
                    <textarea name="remarks" placeholder="Any other details you want to specify"></textarea>
                </div>
            </div>

            <!-- Employee Form Fields -->
            <div id="employeeFields" style="display:none;">
                <div class="form-group">
                    <label>Name:</label>
                    <input type="text" name="name" required>
                </div>
                <div class="form-group">
                    <label>Age:</label>
                    <input type="number" name="age" min="18" max="100" required>
                </div>
                <div class="form-group">
                    <label>Contact Mobile Number:</label>
                    <input type="text" name="mobile" pattern="[0-9]{10}" required>
                </div>
                <div class="form-group">
                    <label>Email ID (optional):</label>
                    <input type="email" name="email">
                </div>
                <div class="form-group">
                    <label>Current Salary:</label>
                    <input type="text" name="current_salary" placeholder="e.g. Rs.10,000 per month">
                </div>
                <div class="form-group">
                    <label>Expected Salary:</label>
                    <input type="text" name="expected_salary" placeholder="e.g. Rs.15,000 per month" required>
                </div>
                <div class="form-group">
                    <label>Residing At (Place):</label>
                    <input type="text" name="residing_at" placeholder="City, Town, etc." required>
                </div>
                <div class="form-group">
                    <label>Educational Qualification:</label>
                    <input type="text" name="qualification" placeholder="e.g. ITI, Diploma, Degree" required>
                </div>
                <div class="form-group">
                    <label>Ready to Join Period:</label>
                    <input type="text" name="join_period" placeholder="e.g. Immediate, 15 days" required>
                </div>
                <div class="form-group">
                    <label>Attach Resume (PDF/DOC/DOCX):</label>
                    <input type="file" name="resume" accept=".pdf,.doc,.docx" required>
                </div>
                <div class="form-group">
                    <label>Additional Remarks:</label>
                    <textarea name="remarks" placeholder="Any other details you want to specify"></textarea>
                </div>
            </div>

            <button type="submit" class="form-btn" id="submitBtn">Send</button>
        </form>
    </div>
</div>

<!-- Flash bar kept unchanged -->
<div class="flash-bar-fixed">
    <div class="flash-bar-track">
        <span class="flash-bar-text">
            Dear Customers, You are in the Right Place! For any queries, call 9840647844 or email <a href="mailto:annaisavvyassociates@hotmail.com" style="color:#fff; text-decoration:none;">annaisavvyassociates@hotmail.com</a>. Please mention "Query" in the subject to get faster response. Have a Nice Day!
        </span>
        <span class="flash-bar-text">
            Dear Customers, You are in the Right Place! For any queries, call 9840647844 or email <a href="mailto:annaisavvyassociates@hotmail.com" style="color:#fff; text-decoration:none;">annaisavvyassociates@hotmail.com</a>. Please mention "Query" in the subject to get faster response. Have a Nice Day!
        </span>
    </div>
</div>

<script>
function openForm(type) {
    document.getElementById('modalForm').style.display = 'flex';
    if(type === 'employer') {
        document.getElementById('formTitle').innerText = 'Employer Vacancy Details';
        document.getElementById('employerFields').style.display = 'block';
        document.getElementById('employeeFields').style.display = 'none';
    } else {
        document.getElementById('formTitle').innerText = 'Employee Job Application';
        document.getElementById('employeeFields').style.display = 'block';
        document.getElementById('employerFields').style.display = 'none';
    }
    document.getElementById('jobForm').setAttribute('data-type', type);
    document.getElementById('submitBtn').disabled = false;
}

function closeForm() {
    document.getElementById('modalForm').style.display = 'none';
    document.getElementById('jobForm').reset();
    document.getElementById('submitBtn').disabled = true;
}

document.getElementById('jobForm').addEventListener('submit', async function(e) {
  e.preventDefault();
  const form = e.target;
  const type = form.getAttribute('data-type');
  const now = new Date();
  const day = ("0" + now.getDate()).slice(-2);
  const month = ("0" + (now.getMonth() + 1)).slice(-2);
  const year = now.getFullYear();
  const dateStr = `${day}/${month}/${year}`;

  let subject = "";
  let body = "";

  if(type === 'employer'){
    const employerName = form.company_name.value.trim();
    const designation = form.designations.value.trim();
    subject = `${employerName} for ${designation} detail on ${dateStr}`;
    body += `Company Name: ${employerName}\n`;
    body += `Contact Person Name: ${form.contact_person.value.trim()}\n`;
    body += `Mobile: ${form.mobile.value.trim()}\n`;
    body += `Email: ${form.email.value.trim()}\n`;
    body += `Number of Staff: ${form.staff_required.value.trim()}\n`;
    body += `Qualification: ${form.qualification_required.value.trim()}\n`;
    body += `Age Limit: ${form.age_limit.value.trim()}\n`;
    body += `Salary: ${form.salary_structure.value.trim()}\n`;
    body += `Perks: ${form.other_perks.value.trim()}\n`;
    body += `Designations: ${designation}\n`;
    body += `Remarks: ${form.remarks.value.trim()}\n`;

    try {
      const res = await fetch('/send-job-mail', {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify({type, subject, body, to:'annaisavvyassociates@hotmail.com'})
      });
      if(!res.ok) throw new Error('Server returned error');
      
      alert('Employer vacancy details sent successfully!');
      closeForm();
    } catch (error){
      console.error('Error sending employer details:', error);
      alert('Failed to send employer details. Please try again.');
    }
  } else {
    const employeeName = form.name.value.trim();
    subject = `${employeeName} for Job Application detail on ${dateStr}`;
    body += `Name: ${employeeName}\n`;
    body += `Age: ${form.age.value.trim()}\n`;
    body += `Mobile: ${form.mobile.value.trim()}\n`;
    body += `Email: ${form.email.value.trim()}\n`;
    body += `Current Salary: ${form.current_salary.value.trim()}\n`;
    body += `Expected Salary: ${form.expected_salary.value.trim()}\n`;
    body += `Residing At: ${form.residing_at.value.trim()}\n`;
    body += `Qualification: ${form.qualification.value.trim()}\n`;
    body += `Ready to Join: ${form.join_period.value.trim()}\n`;
    body += `Remarks: ${form.remarks.value.trim()}\n`;

    const formData = new FormData(form);
    formData.append('type', type);
    formData.append('subject', subject);
    formData.append('body', body);
    formData.append('to', 'annaisavvyassociates@hotmail.com');

    try {
      const res = await fetch('/send-job-mail', {method: 'POST', body: formData});
      if(!res.ok) throw new Error('Server returned error');
      
      alert('Employee application details sent successfully!');
      closeForm();
    } catch(error) {
      console.error('Error sending employee details:', error);
      alert('Failed to send employee details. Please try again.');
    }
  }
});
</script>
</body>
</html>
